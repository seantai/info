<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/info/blog/rss.xml" title="IFC.js Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/info/blog/atom.xml" title="IFC.js Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="IFC.js" href="/info/opensearch.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"><title data-react-helmet="true">Build a CDE in 30 minutes | IFC.js</title><meta data-react-helmet="true" property="og:title" content="Build a CDE in 30 minutes | IFC.js"><meta data-react-helmet="true" name="description" content="All the big companies are selling their CDE. Why don&#x27;t YOU make your own CDE?"><meta data-react-helmet="true" property="og:description" content="All the big companies are selling their CDE. Why don&#x27;t YOU make your own CDE?"><meta data-react-helmet="true" property="og:url" content="https://IFCjs.github.io/info/blog/Build a CDE in 30 minutes"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://IFCjs.github.io/info/img/social-card.png"><meta data-react-helmet="true" name="twitter:image" content="https://IFCjs.github.io/info/img/social-card.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/info/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://IFCjs.github.io/info/blog/Build a CDE in 30 minutes"><link data-react-helmet="true" rel="alternate" href="https://IFCjs.github.io/info/blog/Build a CDE in 30 minutes" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://IFCjs.github.io/info/ja/blog/Build a CDE in 30 minutes" hreflang="ja"><link data-react-helmet="true" rel="alternate" href="https://IFCjs.github.io/info/zh/blog/Build a CDE in 30 minutes" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://IFCjs.github.io/info/blog/Build a CDE in 30 minutes" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://JKKUEA9VHK-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/info/assets/css/styles.fdd910f5.css">
<link rel="preload" href="/info/assets/js/runtime~main.9990012c.js" as="script">
<link rel="preload" href="/info/assets/js/main.b1a7bf6f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/info/"><img src="/info/img/logo.svg" alt="IFC.js Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/info/img/logo.svg" alt="IFC.js Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">IFC.js</strong></a><a class="navbar__item navbar__link" href="/info/docs/Introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/info/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://discord.gg/FXfyR4XrKT" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Community</a><a href="https://github.com/IFCjs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>English</span></span></a><ul class="dropdown__menu"><li><a href="/info/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li><a href="/info/ja/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">æ—¥æœ¬èª</a></li><li><a href="/info/zh/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">ä¸­æ–‡</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ğŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ğŸŒ</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/info/"><img src="/info/img/logo.svg" alt="IFC.js Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/info/img/logo.svg" alt="IFC.js Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">IFC.js</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/info/docs/Introduction">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/info/blog">Blog</a></li><li class="menu__list-item"><a href="https://discord.gg/FXfyR4XrKT" target="_blank" rel="noopener noreferrer" class="menu__link">Community</a></li><li class="menu__list-item"><a href="https://github.com/IFCjs" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/info/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/info/ja/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">æ—¥æœ¬èª</a></li><li class="menu__list-item"><a href="/info/zh/blog/Build a CDE in 30 minutes" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">ä¸­æ–‡</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_2ahu thin-scrollbar"><h3 class="sidebarItemTitle_2hhb">Recent posts</h3><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/info/blog/Why IFC doesnt work">Why IFC doesn&#x27;t work</a></li><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/info/blog/Build a CDE in 30 minutes">Build a CDE in 30 minutes</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/info/blog/prometheus">The BIM that we need</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/info/blog/Open BIM">Hello IFC.js!</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="margin-bottom--sm blogPostTitle_GeHD">Build a CDE in 30 minutes</h1><div class="margin-vert--md"><time datetime="2021-09-27T00:00:00.000Z" class="blogPostDate_fNvV">September 27, 2021 Â· 9 min read</time></div><div class="avatar margin-vert--md"><a href="https://github.com/agviegas" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://secure.gravatar.com/avatar/9263b9f81d351788e46bc64000c03cb6" alt="Ansoni"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/agviegas" target="_blank" rel="noopener noreferrer">Ansoni</a></h4><small class="avatar__subtitle">Make you own CDE from scratch!</small></div></div></header><div class="markdown"><p><em>All the big companies are selling their CDE. Why don&#x27;t YOU make your own CDE?</em></p><div><img src="/info/assets/images/lego-27af32023b801c95f6e806ca0f47aec0.jpg" alt="Lego image"><a target="_blank" href="https://www.pexels.com/photo/set-of-multicolored-plastic-construction-toys-scattered-on-floor-7444982/"> <i></i> </a></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="but-wait-what-is-a-cde"></a>But wait, what is a CDE?<a class="hash-link" href="#but-wait-what-is-a-cde" title="Direct link to heading">#</a></h2><p>ğŸ“¦
Informally speaking, <strong>CDE</strong> is nothing more than a place where the information of a construction project is centralised and accesible through internet.</p><div class="card-demo" style="margin:2rem"><div class="card"><div class="card__body"><p> ğŸ”§ğŸ”¨ CDEs can have all the functionalities of traditional BIM applications: 3D viewers, reading and editing data, energy simulations, automatic measurements and budgets, etc. </p></div></div></div>ï¸<p>ğŸŒğŸŒğŸŒ
However, they have a fundamental advantage: they are <strong>on the web</strong>, and that means they are accessible from anywhere and from any device without having to install anything.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ok-but-why-would-i-want-a-cde"></a>Ok, but why would I want a CDE?<a class="hash-link" href="#ok-but-why-would-i-want-a-cde" title="Direct link to heading">#</a></h2><p>ğŸ’¸
Well, the truth is that right now, CDEs are the new black. <strong>Almost every major company in the industry is building a CDE</strong> and selling them to their customers at exorbitant prices.</p><p>ğŸƒâ€â™€ï¸ğŸƒâ€â™‚ï¸ğŸƒâ€â™€ï¸
With internet getting faster and better, there will come a day when desktop applications as we know them will lose relevance, and a large part of our tasks will be performed in web applications or server applications. In other words, <strong>CDEs are the future</strong>, and right now there is a big race to build the best one.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="i-get-it-cdes-rock-but-i-will-never-be-able-to-develop-one-myself"></a>I get it, CDEs rock. But I will never be able to develop one myself<a class="hash-link" href="#i-get-it-cdes-rock-but-i-will-never-be-able-to-develop-one-myself" title="Direct link to heading">#</a></h2><p>ğŸ‘©â€ğŸ«
Wrong! The biggest beneficiary of you thinking you can&#x27;t do BIM solutions is the current BIM vendors. At IFC.js we wanted to bust that myth and make a simple CDE from scratch to show that <strong>starting to develop BIM applications is not that difficult</strong>.</p><p>â˜
Obviously, this tutorial is a minimal example. But from the simple CDE of this tutorial to the CDEs of large companies, there is not as much distance as it might seem. <strong>Enough chit-chat, let&#x27;s get on with it!</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="cde-design"></a>CDE design<a class="hash-link" href="#cde-design" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="strategy"></a>Strategy<a class="hash-link" href="#strategy" title="Direct link to heading">#</a></h3><p>â³
We only have <strong>half an hour</strong> to do this CDE, so we have to choose carefully how to do it in order not to waste any time. First things first: we need <strong>a place to store project documentation</strong>. Do you know of an existing tool that allows us to do that? We have thought of <strong>Google Drive</strong>!</p><div class="card-demo" style="margin:2rem"><div class="card"><div class="card__body"><p> ğŸ’ª Google Drive has a lot of power: we can control read and write access to files, version control, an open API... In short, it has many of the things that BIM software companies charge you for, but totally free. </p></div></div></div>ï¸<p>ğŸ›‘
However, Google Drive has a fundamental limitation: it does not have a 3D viewer and does not allow easy access to data in BIM models (e.g. IFC models).</p><p>ğŸ¤
<strong>This is where IFC.js comes in</strong>, allowing us to build BIM applications directly on the web. Combining the storage and permissions power of google drive with the 3d and data reading and editing capabilities of IFC.js, we could build our basic CDE in 30 minutes. Here&#x27;s how:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="architecture"></a>Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">#</a></h3><p>ğŸ¤·â€â™€ï¸
<strong>How to connect</strong> IFC.js and google drive to be able to use both as a CDE? Our design proposal is as follows. It may look complicated, but it&#x27;s actually very very simple.</p><div><img src="/info/assets/images/schema-ee9c12a5d7cba299d5a0035eccae4d6e.jpg" alt="Schema explaining the concept of the CDE"><a target="_blank"> <i>Source</i> </a></div><p>ğŸ 
First we are going to create an <strong>3D BIM web application that is able to download files from google drive</strong>. Specifically, it will download the file from google drive whose ID it finds in its URL parameter. For example, if your URL is <code>https://.../?id=123&amp;name=TEST.ifc</code>, it will download the file whose <code>ID</code> is <code>123</code> from the google account of the user who is logged into the app.</p><p>ğŸŒ
Then we are going to create a <a href="https://developer.chrome.com/docs/extensions/" target="_blank" rel="noopener noreferrer">google chrome extension</a> that is going to do three things:</p><ul><li><p><strong>Read the name of the HTML element</strong> that the user clicks on via web scraping.</p></li><li><p><strong>Find out the ID of that element</strong> using the google drive API.</p></li><li><p><strong>Create a menu that allows the user to open the URL with the IFC.js web application</strong>. In addition, you are going to add two url parameters: the name and the id of the file.</p><div class="card-demo" style="margin:2rem"><div class="card"><div class="card__body"><p> In short: a google chrome extension gets the name of a file when the user clicks on it and opens a web app that knows how to download files by their ID. That&#x27;s all. </p></div></div></div>ï¸</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ifcjs-app"></a>IFC.js app<a class="hash-link" href="#ifcjs-app" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bim-app"></a>BIM app<a class="hash-link" href="#bim-app" title="Direct link to heading">#</a></h4><p>ğŸ¢
Thanks to IFC.js, <strong>this is the easiest part</strong>. Specifically, we are going to create it with <a href="https://github.com/IFCjs/web-ifc-viewer" target="_blank" rel="noopener noreferrer">web-ifc-viewer</a>, which allows to make BIM applications in 50 lines of code. You can find all the code <a href="https://github.com/IFCjs/hello-world/tree/main/examples/web-ifc-viewer/google-drive-viewer" target="_blank" rel="noopener noreferrer">here</a>.</p><p>ğŸ˜‰
Yes, you read that right: <strong>a full 3D BIM app in 50 lines</strong>. And it includes functionalities such as section drawings and 3D dimensions.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="background-color:#FFFFFF;color:#728fcb"><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword module" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#b6ad9a">{</span><span class="token imports maybe-class-name">IfcViewerAPI</span><span class="token imports punctuation" style="color:#b6ad9a">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#728fcb">from</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;web-ifc-viewer&#x27;</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword module" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#b6ad9a">{</span><span class="token imports maybe-class-name">Color</span><span class="token imports punctuation" style="color:#b6ad9a">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#728fcb">from</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;three&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Get div container where 3d scene is rendered</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> container </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#93abdc">document</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">getElementById</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&#x27;viewer-container&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Initialize IFC.js API and add it as global variable</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> viewer </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">IfcViewerAPI</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                            container</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                            backgroundColor</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">Color</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token number" style="color:#063289">0xffffff</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                                </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">applyWebIfcConfig</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                            </span><span class="token constant">COORDINATE_TO_ORIGIN</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                            </span><span class="token constant">USE_FAST_BOOLS</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                                </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">webIfcAPI</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> viewer</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Set up scene</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">addAxes</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">addGrid</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token number" style="color:#063289">50</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">50</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">setWasmPath</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&#x27;wasm/&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">clipper</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">active</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">let</span><span class="token plain"> dimensionsActive </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">false</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Add basic input logic</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#b29762">handleKeyDown</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;KeyE&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            dimensionsActive </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token operator" style="color:#063289">!</span><span class="token plain">dimensionsActive</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">dimensions</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">active</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> dimensionsActive</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">dimensions</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">previewActive</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> dimensionsActive</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">unPrepickIfcItems</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">onmousemove</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> dimensionsActive </span><span class="token operator" style="color:#063289">?</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                                            </span><span class="token keyword null nil" style="color:#728fcb">null</span><span class="token plain"> </span><span class="token operator" style="color:#063289">:</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">                                </span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">prePickIfcItem</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;KeyD&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">dimensions</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">create</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;KeyG&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">clipper</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">createPlane</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">code</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;Delete&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">dimensions</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">deleteAll</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">clipper</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">deletePlane</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">unpickIfcItems</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">onkeydown</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> handleKeyDown</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Highlight items when hovering over them</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">onmousemove</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">prePickIfcItem</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// Select items and log properties</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method-variable function-variable method function property-access" style="color:#b29762">ondblclick</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#063289">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> item </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">pickIfcItem</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token boolean" style="color:#728fcb">true</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">modelID</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:#728fcb">undefined</span><span class="token plain"> </span><span class="token operator" style="color:#063289">||</span><span class="token plain"> item</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">id</span><span class="token plain"> </span><span class="token operator" style="color:#063289">===</span><span class="token plain"> </span><span class="token keyword nil" style="color:#728fcb">undefined</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#728fcb">return</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#728fcb">await</span><span class="token plain"> viewer</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">getProperties</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">item</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">modelID</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> item</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ğŸ¨
Make sure you create the necessary HTML and CSS to give the viewer the look and feel you want.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="google-drive-api"></a>Google Drive API<a class="hash-link" href="#google-drive-api" title="Direct link to heading">#</a></h4><p>ğŸ”’ğŸ”’ğŸ”’
Well, we have a BIM viewer, but for now it can&#x27;t download anything from the <strong>Google Drive API</strong>. However, that&#x27;s easy: just follow these steps from the <a href="https://developers.google.com/drive/api/v3/quickstart/js" target="_blank" rel="noopener noreferrer">official documentation</a> and copy and paste the JavaScript code to be able to access the API.</p><div class="card-demo" style="margin:2rem"><div class="card"><div class="card__body"><p> ğŸ”‘ğŸ”‘ğŸ”‘ Following the google guide, you&#x27;ll need to create a new Google Cloud project to get your own CLIENT_ID and API_KEY; they are just two texts that you must have for google to know who you are. In other words, you can&#x27;t use the keys we have to access to your drive! </p></div></div></div>ï¸<p>ğŸ“‹
If you take a look at the code we have posted, you will see that <strong>we have copied and pasted almost all of the code</strong> from the <a href="https://developers.google.com/drive/api/v3/quickstart/js" target="_blank" rel="noopener noreferrer">google example</a>. The only thing we have added is the following, which simply gets the ID of the file from the URL of the web application and downloads it from google drive:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly js"><div tabindex="0" class="prism-code language-js codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="background-color:#FFFFFF;color:#728fcb"><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">/**</span></div><div class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">     *  Called when the signed in status changes, to update the UI</span></div><div class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">     *  appropriately. After a sign-in, the API is called.</span></div><div class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">     */</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">updateSigninStatus</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">isSignedIn</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">isSignedIn</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token function" style="color:#b29762">getIdAndName</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            fileName</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">innerText</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#728fcb">`</span><span class="token template-string string" style="color:#728fcb">Name: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#b6ad9a">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#b6ad9a">}</span><span class="token template-string template-punctuation string" style="color:#728fcb">`</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token function" style="color:#b29762">downloadFile</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#728fcb">else</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">log</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&#x27;No ID was providen as URL parameter!&#x27;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">/**</span></div><div class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">     *  Sign in the user upon button click.</span></div><div class="token-line" style="color:#728fcb"><span class="token comment" style="color:#b6ad9a">     */</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">handleAuthClick</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        authorizeButton</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">onclick</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> handleSignoutClick</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        buttonText</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">innerText</span><span class="token plain"> </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;Sign out&#x27;</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        gapi</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">auth2</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">getAuthInstance</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">signIn</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">downloadFile</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">fileId</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        gapi</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">client</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">drive</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">files</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">get</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            fileId</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> fileId</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            alt</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;media&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">then</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">response</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token function" style="color:#b29762">loadIfcModel</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">error</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">error</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">getIdAndName</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> urlParams </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">URLSearchParams</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">search</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> id </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> urlParams</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">get</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;id&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> name </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> urlParams</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">get</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;name&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#728fcb">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain">id</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">function</span><span class="token plain"> </span><span class="token function" style="color:#b29762">loadIfcModel</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token parameter">text</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> blob </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">Blob</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain">text</span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain">type</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&#x27;text/plain&#x27;</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token keyword" style="color:#728fcb">const</span><span class="token plain"> file </span><span class="token operator" style="color:#063289">=</span><span class="token plain"> </span><span class="token keyword" style="color:#728fcb">new</span><span class="token plain"> </span><span class="token class-name">File</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain">blob</span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;ifcModel&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token dom variable" style="color:#93abdc">window</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token property-access">webIfcAPI</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token constant">IFC</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token method function property-access" style="color:#b29762">loadIfc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">file</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">;</span><span class="token plain"></span></div><div class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ğŸ‰ğŸ‰ Congratulations! You have just built a BIM application capable of downloading files from Google Drive. Now all that remains is the last part: creating the Google Chrome extension.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="chrome-extension"></a>Chrome extension<a class="hash-link" href="#chrome-extension" title="Direct link to heading">#</a></h3><p>Now we are going to make a Google Chrome extension so that the <strong>user can select the files they want to open</strong>. If you&#x27;ve never done this before, it may sound intimidating, but it&#x27;s actually very simple. You can find the finished result <a href="https://github.com/IFCjs/hello-world/tree/main/examples/extensions/Drive-CDE" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="card-demo" style="margin:2rem"><div class="card"><div class="card__body"><p> ğŸ”‘ğŸ”‘ğŸ”‘ Following the google guide, you&#x27;ll need to create a new Google Cloud project to get your own CLIENT_ID and API_KEY; they are just two texts that you must have for google to know who you are. In other words, you can&#x27;t use the keys we have to access to your drive! <a href="https://developers.google.com/drive/api/v3/about-sdk#create_and_open_files_directly_from_the_drive_ui" target="_blank" rel="noopener noreferrer">Have a look here for more details</a>. </p></div></div></div>ï¸<p>ğŸ‘£
There are many <a href="https://dev.to/anobjectisa/how-to-build-a-chrome-extension-new-manifest-v3-5edk" target="_blank" rel="noopener noreferrer">step-by-step guides</a> on the internet, but we recommend that you take the code from our repository, study it and play with it to see how it works.</p><p>ğŸ§±
There are really only 2 important files:</p><ul><li><p><a href="https://github.com/IFCjs/hello-world/tree/main/examples/extensions/Drive-CDE/background.js" target="_blank" rel="noopener noreferrer">background.js</a>: controls the events of the page, like when the user clicks on something, but doesn&#x27;t have access to the page content.</p></li><li><p><a href="https://github.com/IFCjs/hello-world/tree/main/examples/extensions/Drive-CDE/foreground.js" target="_blank" rel="noopener noreferrer">foreground.js</a>: has access to the page content, but not to the events.</p></li></ul><p>ğŸ‘¬
So, as you can imagine, both files have to communicate with each other in order to do what we want. As you can see in the code, they do it with a simple message system.</p><p>ğŸ‘©â€ğŸ«
In the repository you will find step-by-step comments on what does what. In total, there are less than 100 lines of relevant code: everything else is copied and pasted.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="all-toguether"></a>All toguether!<a class="hash-link" href="#all-toguether" title="Direct link to heading">#</a></h3><p>ğŸ”¥ğŸ”¥ğŸ”¥
This is how our 30 minutes CDE looks:</p><iframe width="100%" height="600px" src="https://www.youtube.com/embed/lYzTaOBuv7k" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>ğŸ†
Congratulations! You have just created <strong>your first CDE</strong>. It may not seem much, but think of all its functionalities: file storage, permissions and version control, 3d view, access to properties, 3d measurements, section planes...</p><p>ğŸš€ğŸš€ğŸš€
If we have done this in such a short time and using Google Drive, can you imagine what is possible to build with IFC.js and other technologies such as <strong>databases</strong> or <strong>servers?</strong> Don&#x27;t worry, we&#x27;ll be making tutorials on all that and more!</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/info/blog/tags/tutorial">tutorial</a><a class="margin-horiz--sm" href="/info/blog/tags/cde">CDE</a><a class="margin-horiz--sm" href="/info/blog/tags/google">Google</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/info/blog/Why IFC doesnt work"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Why IFC doesn&#x27;t work</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/info/blog/prometheus"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">The BIM that we need Â»</div></a></div></nav></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#but-wait-what-is-a-cde" class="table-of-contents__link">But wait, what is a CDE?</a></li><li><a href="#ok-but-why-would-i-want-a-cde" class="table-of-contents__link">Ok, but why would I want a CDE?</a></li><li><a href="#i-get-it-cdes-rock-but-i-will-never-be-able-to-develop-one-myself" class="table-of-contents__link">I get it, CDEs rock. But I will never be able to develop one myself</a></li><li><a href="#cde-design" class="table-of-contents__link">CDE design</a><ul><li><a href="#strategy" class="table-of-contents__link">Strategy</a></li><li><a href="#architecture" class="table-of-contents__link">Architecture</a></li><li><a href="#ifcjs-app" class="table-of-contents__link">IFC.js app</a></li><li><a href="#chrome-extension" class="table-of-contents__link">Chrome extension</a></li><li><a href="#all-toguether" class="table-of-contents__link">All toguether!</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/info/docs/introduction">Tutorial</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/FXfyR4XrKT" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://opencollective.com/ifcjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Funding</a></li><li class="footer__item"><a href="https://twitter.com/ifc_js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.twitch.tv/ifc_js/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitch</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/info/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/IFCjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://trello.com/b/d5frRnSe/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item">Roadmap</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 IFC.js.</div></div></div></footer></div>
<script src="/info/assets/js/runtime~main.9990012c.js"></script>
<script src="/info/assets/js/main.b1a7bf6f.js"></script>
</body>
</html>